(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[623],{2622:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ImageToVideoPage",function(){return r(4679)}])},4679:function(e,a,r){"use strict";r.r(a);var s=r(5893),l=r(7294),t=r(2770),o=r(220),n=r(4548),c=r(1664),i=r.n(c);let d=new n.ZP({authToken:"luma-b5c7db42-83c1-4809-ba0e-16d2f5084821-8204b9d6-6b11-405c-92a6-39ae3af687cb"});a.default=()=>{let[e,a]=(0,l.useState)(""),[r,c]=(0,l.useState)(null),[u,h]=(0,l.useState)(null),[g,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)(0),[b,f]=(0,l.useState)(null),[v,j]=(0,l.useState)(!1),N=async()=>{m(!0),f(null),p(0),console.log("API Key:","luma-b5c7db42-83c1-4809-ba0e-16d2f5084821-8204b9d6-6b11-405c-92a6-39ae3af687cb");try{let a=await d.generations.create({aspect_ratio:"16:9",prompt:e});if(a&&a.id){let{id:e}=a,r=setInterval(async()=>{try{let a=await d.generations.get(e),{state:s,assets:l,progressPercent:t,failure_reason:o}=a;console.log("Status Response:",a),p(t||0),"completed"===s?(clearInterval(r),l&&l.video?h(l.video):f("Video generation completed but no assets were found."),m(!1)):"failed"===s?(clearInterval(r),console.error("Video generation failed:",o),f("Video generation failed: ".concat(o||"Unknown reason")),m(!1)):("dreaming"===s||"queued"===s||"processing"===s)&&console.log("Video generation is in progress... [".concat(s,"]"))}catch(e){console.error("Error checking status: ",e),clearInterval(r),f("An error occurred while checking the generation status."),m(!1)}},5e3)}else console.error("Invalid API response:",a),f("Failed to start video generation. Please check your input and try again."),m(!1)}catch(e){e instanceof n.ZP.APIError?(console.error("API Error: ".concat(e.status," - ").concat(e.name)),console.error("Detailed API Error:",e),f("API Error: ".concat(e.status," - ").concat(e.message))):(console.error("Unexpected error:",e),f("An unexpected error occurred while generating the video.")),m(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-white text-black p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-7xl font-bold mb-12 text-center text-[#64748b]",children:"MEDSUSA.io"}),(0,s.jsxs)("div",{className:"relative mb-8 flex justify-center",children:[(0,s.jsx)("button",{onClick:()=>{j(!v)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Menu"}),v&&(0,s.jsxs)("ul",{className:"absolute left-0 mt-2 w-48 bg-white shadow-lg rounded-lg z-10",children:[(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/",className:"block px-4 py-2 hover:bg-gray-200",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/ImageToVideoPage",className:"block px-4 py-2 hover:bg-gray-200",children:"Image to Video"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/TextToImagePage",className:"block px-4 py-2 hover:bg-gray-200",children:"Text to Image"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:"/AnotherPage",className:"block px-4 py-2 hover:bg-gray-200",children:"Another Page"})})]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-12",children:(0,s.jsx)("video",{src:"/medusa-video.mp4",className:"w-384px h-384px object-cover rounded-lg",autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("label",{htmlFor:"prompt",className:"block text-lg mb-2",children:"Enter your prompt:"}),(0,s.jsx)("textarea",{id:"prompt",value:e,onChange:e=>a(e.target.value),className:"w-full p-2 bg-white-800 rounded-lg text-black border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe the video you want to generate...",rows:4}),(0,s.jsx)("label",{htmlFor:"image-upload",className:"block text-lg mb-2",children:"Upload reference image:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("input",{id:"image-upload",type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];if(a){let e=new FileReader;e.onload=e=>{c(e.target.result)},e.readAsDataURL(a)}},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors flex items-center space-x-2",children:[(0,s.jsx)(t.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Choose File"})]}),r&&(0,s.jsx)("span",{className:"text-green-400",children:"Image uploaded"})]}),(0,s.jsx)("button",{onClick:N,disabled:!e||!r||g,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-lg transition-all duration-300 transform hover:scale-105 text-xl disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Generating...":"Generate Video"}),g&&(0,s.jsxs)("p",{children:["Progress: ",x,"%"]}),b&&(0,s.jsx)("p",{className:"text-red-500",children:b})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Generated Video"}),(0,s.jsx)("div",{className:"relative aspect-video bg-white-800 rounded-lg overflow-hidden",children:g?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-16 h-16 animate-spin text-blue-500"})}):u?(0,s.jsxs)("video",{controls:!0,className:"w-full h-full",children:[(0,s.jsx)("source",{src:u,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:"Your generated video will appear here"})})]})]})]})})}}},function(e){e.O(0,[664,119,888,774,179],function(){return e(e.s=2622)}),_N_E=e.O()}]);